#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <windows.h>
#include <conio.h>

struct billing{
char name[50];
float bill;
int rating;

}b1;
struct order{
char ord[50];
float price;
int quantity;
}o1;

int size1=sizeof(b1);
int size2=sizeof(o1);
FILE *fp,*ft;

int starters(){

    int i;

    printf("1. Hot and Sour Soup    -- 150Rs.\n");
    printf("2. Tomato Soup          -- 150Rs.\n");
    printf("3. Chicken Soup         -- 200Rs.\n");
    printf("4. Manchurian Dry       -- 220Rs.\n");
    printf("5. Paneer 65            -- 250Rs.\n");
    printf("6. Chicken Kebab        -- 250Rs.\n");
    printf("7. Chicken Spring Rolls -- 280Rs.\n");
    printf("Enter Yout Choice : ");
    scanf("%d",&i);
    return i;
}
void maincourse(){
    printf("1. Chicken Biryani       -- 300Rs.\n");
    printf("2. Chicken Schezwan Rice -- 160Rs.\n");
    printf("3. Butter Chicken        -- 250Rs.\n");
    printf("4. Veg Biryani           -- 220Rs.\n");
    printf("5. Paneer Schezwan Rice  -- 150Rs.\n");
    printf("6. Paneer Tikka Masala   -- 180Rs.\n");
}
void dessert(){
    printf("1. Ice-cream          -- 80Rs.\n");
    printf("2. Gulab Jamun        -- 120Rs.\n");
    printf("3. Chocolate Brownie  -- 100Rs.\n");
    printf("4. Rasgulla           -- 120Rs.\n");
    printf("5. Karanji            -- 150Rs.\n");
}
int menu(){
system("cls");
int n;
printf("\n\n\n\n\n");
printf("\t\t\t\tWhat would you like?\n\n ");
printf("\t\t\t1. Starters\n\n");
printf("\t\t\t2. Main Course\n\n");
printf("\t\t\t3. Dessert\n\n\n");
 char ch;
printf("\t\t\tEnter option: ");
scanf("%d",&n);
if(n==1){
    system("cls");
   n = starters();
}
if(n==2){
    system("cls");
    maincourse();
}
if(n==3){
    system("cls");
    dessert();
}
 return n;

}

void main(){
system("cls");
char c;
    fp=fopen("ORDER.DAT","rb+");
    if(fp == NULL)
    {
        fp = fopen("ORDER.DAT","wb+");
        if(fp == NULL)
        {
            printf("Connot open file");
            exit(1);
        }
    }
    printf("Welcome to the Restaurant Menu and Billing Management System\n");
    printf("\n");
    printf("Class: CSE-C\n");
    printf("\n");
    printf("Made by:\n");
    printf("Sanat Kulkarni          -- AP22110010183\n");
    printf("Kunal Sharma            -- AP22110010172\n");
    printf("Hemant Raghuwanshi      -- AP22110010177\n");
    printf("Samudrala Pranavi Navya -- AP22110010144\n");
    printf("\n\n");
    system("pause");
    system("cls");

while(1) {
system("cls");

printf("\n\n\n\n\n\n\n\n\n");



 printf("\t1. Order Something\n\n");
 printf("\t2. Change the order\n\n");
 printf("\t3. Remove an order\n\n");
 printf("\t4. show your order\n\n");
 printf("\t5. bill\n\n");
 printf("\t6. Exit\n\n\n");
 printf("\tEnter your choice: ");

    int k;

    scanf("%d",&k);

    switch(k)
   {
    case 1:
      c='Y';
     while(c=='Y')
    {
    int j =  menu();
    switch(j)
    {
     case 1: fseek(fp,0,SEEK_END);
             strcpy(o1.ord,"Hot and Sour Soup");
             o1.price=150;
       fwrite(&o1,size2,1,fp);
  break;
     
  case 4:

    system("cls");
    rewind(fp);
    c='Y';

    while(fread(&o1,size2,1,fp)==1){
    printf("\n %s   %f\n\n\n",o1.ord,o1.price);
    	}
    getch();
    break;

    }



}


 }
